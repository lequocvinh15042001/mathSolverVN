{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport { isPromise } from '../../utils/tool';\nimport getUploadPlaceholder from '../../utils/uploadPlaceholder';\nimport InputFile from './inputFile';\n\nvar Image = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Image, _PluginComponent);\n\n  function Image(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.inputFile = /*#__PURE__*/React.createRef();\n    _this.onImageChanged = _this.onImageChanged.bind(_assertThisInitialized(_this));\n    _this.handleCustomImageUpload = _this.handleCustomImageUpload.bind(_assertThisInitialized(_this));\n    _this.handleImageUpload = _this.handleImageUpload.bind(_assertThisInitialized(_this));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.handleImageUpload = function handleImageUpload() {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (typeof onImageUpload === 'function') {\n      if (this.inputFile.current) {\n        this.inputFile.current.click();\n      }\n    } else {\n      this.editor.insertMarkdown('image');\n    }\n  };\n\n  _proto.onImageChanged = function onImageChanged(file) {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (onImageUpload) {\n      var placeholder = getUploadPlaceholder(file, onImageUpload);\n      this.editor.insertPlaceholder(placeholder.placeholder, placeholder.uploaded);\n    }\n  };\n\n  _proto.handleCustomImageUpload = function handleCustomImageUpload(e) {\n    var _this2 = this;\n\n    var onCustomImageUpload = this.editorConfig.onCustomImageUpload;\n\n    if (onCustomImageUpload) {\n      var res = onCustomImageUpload.call(this, e);\n\n      if (isPromise(res)) {\n        res.then(function (result) {\n          if (result && result.url) {\n            _this2.editor.insertMarkdown('image', {\n              target: result.text,\n              imageUrl: result.url\n            });\n          }\n        });\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var isCustom = !!this.editorConfig.onCustomImageUpload;\n    return isCustom ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleCustomImageUpload\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleImageUpload,\n      style: {\n        position: 'relative'\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    }), /*#__PURE__*/React.createElement(InputFile, {\n      accept: this.editorConfig.imageAccept || '',\n      ref: this.inputFile,\n      onChange: function onChange(e) {\n        e.persist();\n\n        if (e.target.files && e.target.files.length > 0) {\n          _this3.onImageChanged(e.target.files[0]);\n        }\n      }\n    }));\n  };\n\n  return Image;\n}(PluginComponent);\n\nImage.pluginName = 'image';\nexport { Image as default };","map":{"version":3,"names":["_assertThisInitialized","_inheritsLoose","React","Icon","i18n","PluginComponent","isPromise","getUploadPlaceholder","InputFile","Image","_PluginComponent","props","_this","call","inputFile","createRef","onImageChanged","bind","handleCustomImageUpload","handleImageUpload","state","show","_proto","prototype","onImageUpload","editorConfig","current","click","editor","insertMarkdown","file","placeholder","insertPlaceholder","uploaded","e","_this2","onCustomImageUpload","res","then","result","url","target","text","imageUrl","render","_this3","isCustom","createElement","className","title","get","onClick","type","style","position","accept","imageAccept","ref","onChange","persist","files","length","pluginName","default"],"sources":["/Users/lequocvinh/MathSolver/mathSolverVN/node_modules/react-markdown-editor-lite/esm/plugins/Image/index.js"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport Icon from '../../components/Icon';\nimport i18n from '../../i18n';\nimport { PluginComponent } from '../Plugin';\nimport { isPromise } from '../../utils/tool';\nimport getUploadPlaceholder from '../../utils/uploadPlaceholder';\nimport InputFile from './inputFile';\n\nvar Image = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(Image, _PluginComponent);\n\n  function Image(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.inputFile = /*#__PURE__*/React.createRef();\n    _this.onImageChanged = _this.onImageChanged.bind(_assertThisInitialized(_this));\n    _this.handleCustomImageUpload = _this.handleCustomImageUpload.bind(_assertThisInitialized(_this));\n    _this.handleImageUpload = _this.handleImageUpload.bind(_assertThisInitialized(_this));\n    _this.state = {\n      show: false\n    };\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.handleImageUpload = function handleImageUpload() {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (typeof onImageUpload === 'function') {\n      if (this.inputFile.current) {\n        this.inputFile.current.click();\n      }\n    } else {\n      this.editor.insertMarkdown('image');\n    }\n  };\n\n  _proto.onImageChanged = function onImageChanged(file) {\n    var onImageUpload = this.editorConfig.onImageUpload;\n\n    if (onImageUpload) {\n      var placeholder = getUploadPlaceholder(file, onImageUpload);\n      this.editor.insertPlaceholder(placeholder.placeholder, placeholder.uploaded);\n    }\n  };\n\n  _proto.handleCustomImageUpload = function handleCustomImageUpload(e) {\n    var _this2 = this;\n\n    var onCustomImageUpload = this.editorConfig.onCustomImageUpload;\n\n    if (onCustomImageUpload) {\n      var res = onCustomImageUpload.call(this, e);\n\n      if (isPromise(res)) {\n        res.then(function (result) {\n          if (result && result.url) {\n            _this2.editor.insertMarkdown('image', {\n              target: result.text,\n              imageUrl: result.url\n            });\n          }\n        });\n      }\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var isCustom = !!this.editorConfig.onCustomImageUpload;\n    return isCustom ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleCustomImageUpload\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"button button-type-image\",\n      title: i18n.get('btnImage'),\n      onClick: this.handleImageUpload,\n      style: {\n        position: 'relative'\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"image\"\n    }), /*#__PURE__*/React.createElement(InputFile, {\n      accept: this.editorConfig.imageAccept || '',\n      ref: this.inputFile,\n      onChange: function onChange(e) {\n        e.persist();\n\n        if (e.target.files && e.target.files.length > 0) {\n          _this3.onImageChanged(e.target.files[0]);\n        }\n      }\n    }));\n  };\n\n  return Image;\n}(PluginComponent);\n\nImage.pluginName = 'image';\nexport { Image as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}