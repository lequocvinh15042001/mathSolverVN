{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from './Plugin';\n\nvar AutoResize = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(AutoResize, _PluginComponent);\n\n  function AutoResize(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.timer = null;\n    _this.useTimer = _this.getConfig('useTimer') || typeof requestAnimationFrame === 'undefined';\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.doResize = _this.doResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = AutoResize.prototype;\n\n  _proto.doResize = function doResize() {\n    var _this2 = this;\n\n    var resizeElement = function resizeElement(e) {\n      e.style.height = 'auto';\n      var height = Math.min(Math.max(_this2.getConfig('min'), e.scrollHeight), _this2.getConfig('max'));\n      e.style.height = height + \"px\";\n      return height;\n    };\n\n    this.timer = null; // 如果渲染了编辑器，就以编辑器为准\n\n    var view = this.editor.getView();\n    var el = this.editor.getMdElement();\n    var previewer = this.editor.getHtmlElement();\n\n    if (el && view.md) {\n      var height = resizeElement(el);\n\n      if (previewer) {\n        previewer.style.height = height + \"px\";\n      }\n\n      return;\n    } // 否则，以预览区域为准\n\n\n    if (previewer && view.html) {\n      resizeElement(previewer);\n    }\n  };\n\n  _proto.handleChange = function handleChange() {\n    if (this.timer !== null) {\n      return;\n    }\n\n    if (this.useTimer) {\n      this.timer = window.setTimeout(this.doResize);\n      return;\n    }\n\n    this.timer = requestAnimationFrame(this.doResize);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('change', this.handleChange);\n    this.editor.on('viewchange', this.handleChange);\n    this.handleChange();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('change', this.handleChange);\n    this.editor.off('viewchange', this.handleChange);\n\n    if (this.timer !== null && this.useTimer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  };\n\n  return AutoResize;\n}(PluginComponent);\n\nAutoResize.pluginName = 'auto-resize';\nAutoResize.align = 'left';\nAutoResize.defaultConfig = {\n  min: 200,\n  max: Infinity,\n  useTimer: false\n};\nexport { AutoResize as default };","map":{"version":3,"names":["_assertThisInitialized","_inheritsLoose","React","PluginComponent","AutoResize","_PluginComponent","props","_this","call","timer","useTimer","getConfig","requestAnimationFrame","handleChange","bind","doResize","_proto","prototype","_this2","resizeElement","e","style","height","Math","min","max","scrollHeight","view","editor","getView","el","getMdElement","previewer","getHtmlElement","md","html","window","setTimeout","componentDidMount","on","componentWillUnmount","off","clearTimeout","render","createElement","pluginName","align","defaultConfig","Infinity","default"],"sources":["/Users/lequocvinh/MathSolver/mathSolverVN/node_modules/react-markdown-editor-lite/esm/plugins/autoResize.js"],"sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport * as React from 'react';\nimport { PluginComponent } from './Plugin';\n\nvar AutoResize = /*#__PURE__*/function (_PluginComponent) {\n  _inheritsLoose(AutoResize, _PluginComponent);\n\n  function AutoResize(props) {\n    var _this;\n\n    _this = _PluginComponent.call(this, props) || this;\n    _this.timer = null;\n    _this.useTimer = _this.getConfig('useTimer') || typeof requestAnimationFrame === 'undefined';\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.doResize = _this.doResize.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  var _proto = AutoResize.prototype;\n\n  _proto.doResize = function doResize() {\n    var _this2 = this;\n\n    var resizeElement = function resizeElement(e) {\n      e.style.height = 'auto';\n      var height = Math.min(Math.max(_this2.getConfig('min'), e.scrollHeight), _this2.getConfig('max'));\n      e.style.height = height + \"px\";\n      return height;\n    };\n\n    this.timer = null; // 如果渲染了编辑器，就以编辑器为准\n\n    var view = this.editor.getView();\n    var el = this.editor.getMdElement();\n    var previewer = this.editor.getHtmlElement();\n\n    if (el && view.md) {\n      var height = resizeElement(el);\n\n      if (previewer) {\n        previewer.style.height = height + \"px\";\n      }\n\n      return;\n    } // 否则，以预览区域为准\n\n\n    if (previewer && view.html) {\n      resizeElement(previewer);\n    }\n  };\n\n  _proto.handleChange = function handleChange() {\n    if (this.timer !== null) {\n      return;\n    }\n\n    if (this.useTimer) {\n      this.timer = window.setTimeout(this.doResize);\n      return;\n    }\n\n    this.timer = requestAnimationFrame(this.doResize);\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.editor.on('change', this.handleChange);\n    this.editor.on('viewchange', this.handleChange);\n    this.handleChange();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.editor.off('change', this.handleChange);\n    this.editor.off('viewchange', this.handleChange);\n\n    if (this.timer !== null && this.useTimer) {\n      window.clearTimeout(this.timer);\n      this.timer = null;\n    }\n  };\n\n  _proto.render = function render() {\n    return /*#__PURE__*/React.createElement(\"span\", null);\n  };\n\n  return AutoResize;\n}(PluginComponent);\n\nAutoResize.pluginName = 'auto-resize';\nAutoResize.align = 'left';\nAutoResize.defaultConfig = {\n  min: 200,\n  max: Infinity,\n  useTimer: false\n};\nexport { AutoResize as default };"],"mappings":"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"},"metadata":{},"sourceType":"module"}