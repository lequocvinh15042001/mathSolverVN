{"ast":null,"code":"// ~~strike through~~\n//\n'use strict'; // Insert each marker as a separate text token, and add it to delimiter list\n//\n\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i,\n      scanned,\n      token,\n      len,\n      ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) {\n    return false;\n  }\n\n  if (marker !== 0x7E\n  /* ~ */\n  ) {\n    return false;\n  }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) {\n    return false;\n  }\n\n  if (len % 2) {\n    token = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token = state.push('text', '', 0);\n    token.content = ch + ch;\n    state.delimiters.push({\n      marker: marker,\n      length: 0,\n      // disable \"rule of 3\" length checks meant for emphasis\n      jump: i / 2,\n      // for `~~` 1 marker = 2 characters\n      token: state.tokens.length - 1,\n      end: -1,\n      open: scanned.can_open,\n      close: scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n  return true;\n};\n\nfunction postProcess(state, delimiters) {\n  var i,\n      j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E\n    /* ~ */\n    ) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n    token = state.tokens[startDelim.token];\n    token.type = 's_open';\n    token.tag = 's';\n    token.nesting = 1;\n    token.markup = '~~';\n    token.content = '';\n    token = state.tokens[endDelim.token];\n    token.type = 's_close';\n    token.tag = 's';\n    token.nesting = -1;\n    token.markup = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' && state.tokens[endDelim.token - 1].content === '~') {\n      loneMarkers.push(endDelim.token - 1);\n    }\n  } // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n\n\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n} // Walk through delimiter list and replace text tokens with tags\n//\n\n\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};","map":{"version":3,"names":["module","exports","tokenize","strikethrough","state","silent","i","scanned","token","len","ch","start","pos","marker","src","charCodeAt","scanDelims","length","String","fromCharCode","push","content","delimiters","jump","tokens","end","open","can_open","close","can_close","postProcess","j","startDelim","endDelim","loneMarkers","max","type","tag","nesting","markup","pop","curr","tokens_meta"],"sources":["/Users/lequocvinh/MathSolver/mathSolverVN/node_modules/markdown-it/lib/rules_inline/strikethrough.js"],"sourcesContent":["// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0,     // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i / 2, // for `~~` 1 marker = 2 characters\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n"],"mappings":"AAAA;AACA;AACA,a,CAGA;AACA;;AACAA,MAAM,CAACC,OAAP,CAAeC,QAAf,GAA0B,SAASC,aAAT,CAAuBC,KAAvB,EAA8BC,MAA9B,EAAsC;EAC9D,IAAIC,CAAJ;EAAA,IAAOC,OAAP;EAAA,IAAgBC,KAAhB;EAAA,IAAuBC,GAAvB;EAAA,IAA4BC,EAA5B;EAAA,IACIC,KAAK,GAAGP,KAAK,CAACQ,GADlB;EAAA,IAEIC,MAAM,GAAGT,KAAK,CAACU,GAAN,CAAUC,UAAV,CAAqBJ,KAArB,CAFb;;EAIA,IAAIN,MAAJ,EAAY;IAAE,OAAO,KAAP;EAAe;;EAE7B,IAAIQ,MAAM,KAAK;EAAI;EAAnB,EAA4B;IAAE,OAAO,KAAP;EAAe;;EAE7CN,OAAO,GAAGH,KAAK,CAACY,UAAN,CAAiBZ,KAAK,CAACQ,GAAvB,EAA4B,IAA5B,CAAV;EACAH,GAAG,GAAGF,OAAO,CAACU,MAAd;EACAP,EAAE,GAAGQ,MAAM,CAACC,YAAP,CAAoBN,MAApB,CAAL;;EAEA,IAAIJ,GAAG,GAAG,CAAV,EAAa;IAAE,OAAO,KAAP;EAAe;;EAE9B,IAAIA,GAAG,GAAG,CAAV,EAAa;IACXD,KAAK,GAAWJ,KAAK,CAACgB,IAAN,CAAW,MAAX,EAAmB,EAAnB,EAAuB,CAAvB,CAAhB;IACAZ,KAAK,CAACa,OAAN,GAAgBX,EAAhB;IACAD,GAAG;EACJ;;EAED,KAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGG,GAAhB,EAAqBH,CAAC,IAAI,CAA1B,EAA6B;IAC3BE,KAAK,GAAWJ,KAAK,CAACgB,IAAN,CAAW,MAAX,EAAmB,EAAnB,EAAuB,CAAvB,CAAhB;IACAZ,KAAK,CAACa,OAAN,GAAgBX,EAAE,GAAGA,EAArB;IAEAN,KAAK,CAACkB,UAAN,CAAiBF,IAAjB,CAAsB;MACpBP,MAAM,EAAEA,MADY;MAEpBI,MAAM,EAAE,CAFY;MAEL;MACfM,IAAI,EAAIjB,CAAC,GAAG,CAHQ;MAGL;MACfE,KAAK,EAAGJ,KAAK,CAACoB,MAAN,CAAaP,MAAb,GAAsB,CAJV;MAKpBQ,GAAG,EAAK,CAAC,CALW;MAMpBC,IAAI,EAAInB,OAAO,CAACoB,QANI;MAOpBC,KAAK,EAAGrB,OAAO,CAACsB;IAPI,CAAtB;EASD;;EAEDzB,KAAK,CAACQ,GAAN,IAAaL,OAAO,CAACU,MAArB;EAEA,OAAO,IAAP;AACD,CAvCD;;AA0CA,SAASa,WAAT,CAAqB1B,KAArB,EAA4BkB,UAA5B,EAAwC;EACtC,IAAIhB,CAAJ;EAAA,IAAOyB,CAAP;EAAA,IACIC,UADJ;EAAA,IAEIC,QAFJ;EAAA,IAGIzB,KAHJ;EAAA,IAII0B,WAAW,GAAG,EAJlB;EAAA,IAKIC,GAAG,GAAGb,UAAU,CAACL,MALrB;;EAOA,KAAKX,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG6B,GAAhB,EAAqB7B,CAAC,EAAtB,EAA0B;IACxB0B,UAAU,GAAGV,UAAU,CAAChB,CAAD,CAAvB;;IAEA,IAAI0B,UAAU,CAACnB,MAAX,KAAsB;IAAI;IAA9B,EAAuC;MACrC;IACD;;IAED,IAAImB,UAAU,CAACP,GAAX,KAAmB,CAAC,CAAxB,EAA2B;MACzB;IACD;;IAEDQ,QAAQ,GAAGX,UAAU,CAACU,UAAU,CAACP,GAAZ,CAArB;IAEAjB,KAAK,GAAWJ,KAAK,CAACoB,MAAN,CAAaQ,UAAU,CAACxB,KAAxB,CAAhB;IACAA,KAAK,CAAC4B,IAAN,GAAgB,QAAhB;IACA5B,KAAK,CAAC6B,GAAN,GAAgB,GAAhB;IACA7B,KAAK,CAAC8B,OAAN,GAAgB,CAAhB;IACA9B,KAAK,CAAC+B,MAAN,GAAgB,IAAhB;IACA/B,KAAK,CAACa,OAAN,GAAgB,EAAhB;IAEAb,KAAK,GAAWJ,KAAK,CAACoB,MAAN,CAAaS,QAAQ,CAACzB,KAAtB,CAAhB;IACAA,KAAK,CAAC4B,IAAN,GAAgB,SAAhB;IACA5B,KAAK,CAAC6B,GAAN,GAAgB,GAAhB;IACA7B,KAAK,CAAC8B,OAAN,GAAgB,CAAC,CAAjB;IACA9B,KAAK,CAAC+B,MAAN,GAAgB,IAAhB;IACA/B,KAAK,CAACa,OAAN,GAAgB,EAAhB;;IAEA,IAAIjB,KAAK,CAACoB,MAAN,CAAaS,QAAQ,CAACzB,KAAT,GAAiB,CAA9B,EAAiC4B,IAAjC,KAA0C,MAA1C,IACAhC,KAAK,CAACoB,MAAN,CAAaS,QAAQ,CAACzB,KAAT,GAAiB,CAA9B,EAAiCa,OAAjC,KAA6C,GADjD,EACsD;MAEpDa,WAAW,CAACd,IAAZ,CAAiBa,QAAQ,CAACzB,KAAT,GAAiB,CAAlC;IACD;EACF,CAxCqC,CA0CtC;EACA;EACA;EACA;EACA;EACA;;;EACA,OAAO0B,WAAW,CAACjB,MAAnB,EAA2B;IACzBX,CAAC,GAAG4B,WAAW,CAACM,GAAZ,EAAJ;IACAT,CAAC,GAAGzB,CAAC,GAAG,CAAR;;IAEA,OAAOyB,CAAC,GAAG3B,KAAK,CAACoB,MAAN,CAAaP,MAAjB,IAA2Bb,KAAK,CAACoB,MAAN,CAAaO,CAAb,EAAgBK,IAAhB,KAAyB,SAA3D,EAAsE;MACpEL,CAAC;IACF;;IAEDA,CAAC;;IAED,IAAIzB,CAAC,KAAKyB,CAAV,EAAa;MACXvB,KAAK,GAAGJ,KAAK,CAACoB,MAAN,CAAaO,CAAb,CAAR;MACA3B,KAAK,CAACoB,MAAN,CAAaO,CAAb,IAAkB3B,KAAK,CAACoB,MAAN,CAAalB,CAAb,CAAlB;MACAF,KAAK,CAACoB,MAAN,CAAalB,CAAb,IAAkBE,KAAlB;IACD;EACF;AACF,C,CAGD;AACA;;;AACAR,MAAM,CAACC,OAAP,CAAe6B,WAAf,GAA6B,SAAS3B,aAAT,CAAuBC,KAAvB,EAA8B;EACzD,IAAIqC,IAAJ;EAAA,IACIC,WAAW,GAAGtC,KAAK,CAACsC,WADxB;EAAA,IAEIP,GAAG,GAAG/B,KAAK,CAACsC,WAAN,CAAkBzB,MAF5B;EAIAa,WAAW,CAAC1B,KAAD,EAAQA,KAAK,CAACkB,UAAd,CAAX;;EAEA,KAAKmB,IAAI,GAAG,CAAZ,EAAeA,IAAI,GAAGN,GAAtB,EAA2BM,IAAI,EAA/B,EAAmC;IACjC,IAAIC,WAAW,CAACD,IAAD,CAAX,IAAqBC,WAAW,CAACD,IAAD,CAAX,CAAkBnB,UAA3C,EAAuD;MACrDQ,WAAW,CAAC1B,KAAD,EAAQsC,WAAW,CAACD,IAAD,CAAX,CAAkBnB,UAA1B,CAAX;IACD;EACF;AACF,CAZD"},"metadata":{},"sourceType":"script"}